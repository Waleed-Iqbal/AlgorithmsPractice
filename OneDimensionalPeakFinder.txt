// C#

public static int GetPeakOfOneDimensionalArray(int[] numbers, int min, int max)
    {
        int middle = (max + min) / 2;
        if (middle == max || middle == min)
        {
            if (numbers[0] >= numbers[1])
                return numbers[0];
            return numbers[1];
        }

        if (numbers[middle] > numbers[middle - 1] && numbers[middle] > numbers[middle + 1])
            return middle;
        else if (numbers[middle] < numbers[middle - 1])
            return GetPeakOfOneDimensionalArray(numbers, min, middle - 1);
        else return GetPeakOfOneDimensionalArray(numbers, middle + 1, max);
    }